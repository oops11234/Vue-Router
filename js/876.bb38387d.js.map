{"version":3,"file":"js/876.bb38387d.js","mappings":"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","sources":["webpack://vue-wells-13/./src/views/LoginPage.vue?401e","webpack://vue-wells-13/src/views/LoginPage.vue","webpack://vue-wells-13/./src/views/LoginPage.vue?2f50","webpack://vue-wells-13/./src/views/LoginPage.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('div',{staticClass:\"login__info\"},[_c('p',[_vm._v(\"帳號：\"+_vm._s(_vm.getEmail))]),_c('p',[_vm._v(\"密碼：\"+_vm._s(_vm.getPassword))])]),_c('div',{staticClass:\"login__wrapper\"},[_c('img',{staticClass:\"login__logo\",attrs:{\"src\":require(\"@/assets/img/logo.png\"),\"alt\":\"logo\",\"width\":\"100\",\"height\":\"100\"}}),_c('p',{staticClass:\"login__text\"},[_vm._v(\"請登入\")]),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.handleSubmit.apply(null, arguments)}}},[_c('div',{staticClass:\"login__form\"},[_c('label',{attrs:{\"for\":\"Mail\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mail),expression:\"mail\"}],staticClass:\"login__mail\",attrs:{\"id\":\"Mail\",\"type\":\"email\",\"placeholder\":\"電子郵件\",\"required\":\"\"},domProps:{\"value\":(_vm.mail)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.mail=$event.target.value}}})]),_c('label',{attrs:{\"for\":\"Pwd\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.pwd),expression:\"pwd\"}],staticClass:\"login__pwd\",attrs:{\"id\":\"Pwd\",\"type\":\"password\",\"placeholder\":\"密碼\",\"required\":\"\"},domProps:{\"value\":(_vm.pwd)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.pwd=$event.target.value}}})])]),_vm._m(0)])]),(_vm.loginStatus === 1)?_c('p',{staticClass:\"login__status login__status-success\"},[_vm._v(\" 登入成功 \")]):_vm._e(),(_vm.loginStatus === 2)?_c('p',{staticClass:\"login__status login__status-fail\"},[_vm._v(\" 帳號或密碼有誤，請重新輸入！ \")]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login__btn\"},[_c('input',{staticClass:\"btn btn-submit\",attrs:{\"type\":\"submit\",\"value\":\"送出\"}}),_c('input',{staticClass:\"btn btn-clear\",attrs:{\"type\":\"reset\",\"value\":\"清除\"}})])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"login\">\n    <div class=\"login__info\">\n      <p>帳號：{{ getEmail }}</p>\n      <p>密碼：{{ getPassword }}</p>\n    </div>\n    <div class=\"login__wrapper\">\n      <img\n        class=\"login__logo\"\n        src=\"@/assets/img/logo.png\"\n        alt=\"logo\"\n        width=\"100\"\n        height=\"100\"\n      />\n      <p class=\"login__text\">請登入</p>\n      <form @submit.prevent=\"handleSubmit\">\n        <div class=\"login__form\">\n          <label for=\"Mail\">\n            <input\n              class=\"login__mail\"\n              id=\"Mail\"\n              type=\"email\"\n              placeholder=\"電子郵件\"\n              v-model=\"mail\"\n              required\n            />\n          </label>\n          <label for=\"Pwd\">\n            <input\n              class=\"login__pwd\"\n              id=\"Pwd\"\n              type=\"password\"\n              placeholder=\"密碼\"\n              v-model=\"pwd\"\n              required\n            />\n          </label>\n        </div>\n        <div class=\"login__btn\">\n          <input class=\"btn btn-submit\" type=\"submit\" value=\"送出\" />\n          <input\n            class=\"btn btn-clear\"\n            type=\"reset\"\n            value=\"清除\"\n          />\n        </div>\n      </form>\n    </div>\n    <p class=\"login__status login__status-success\" v-if=\"loginStatus === 1\">\n      登入成功\n    </p>\n    <p class=\"login__status login__status-fail\" v-if=\"loginStatus === 2\">\n      帳號或密碼有誤，請重新輸入！\n    </p>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex';\nimport Cookie from 'js-cookie';\nimport axios from 'axios';\n\nexport default {\n  name: 'LoginPage',\n  data() {\n    return {\n      // 用以判斷右上角提示什麼資訊\n      loginStatus: 0,\n      mail: '',\n      pwd: '',\n      timer: null,\n    };\n  },\n  computed: {\n    ...mapGetters(['getEmail', 'getPassword']),\n    // 設定cookie時效為一天\n    expiresTime() {\n      const now = new Date();\n      const expireTime = now.getTime() + 1000 * 60 * 60 * 24;\n      now.setTime(expireTime);\n      return now;\n    },\n  },\n  methods: {\n    ...mapActions(['setIsShow', 'setEmail', 'setPassword']),\n    async handleSubmit() {\n      try {\n        const data = await axios.get('https://randomuser.me/api/?seed=foobar')\n          .then((res) => res.data.results)\n          .catch((err) => console.log(err));\n        if (this.mail === data[0].email && this.pwd === data[0].login.password) {\n          this.loginStatus = 1;\n          // 若登入成功，則右上角提示會顯示一秒後前往首頁(並將token存在Cookie)\n          setTimeout(() => {\n            Cookie.set('token', data[0].login.sha256, { expires: this.expiresTime });\n            this.$router.push({ path: '/admin' });\n          }, 1000);\n        } else {\n          this.loginStatus = 2;\n          // 若登入失敗，則右上角提示會顯示3秒後隱藏\n          clearTimeout(this.timer);\n          this.timer = setTimeout(() => {\n            this.loginStatus = 0;\n          }, 3000);\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n  },\n  async created() {\n    try {\n      // 發送請求獲取資料\n      this.setIsShow();\n      const data = await axios\n        .get('https://randomuser.me/api/?seed=foobar')\n        .then((res) => res.data.results)\n        .catch((err) => console.log(err));\n      // 把email、password放到vuex中\n      this.setEmail(data[0].email);\n      this.setPassword(data[0].login.password);\n      this.setIsShow();\n    } catch (error) {\n      console.log(error);\n    }\n  },\n};\n</script>\n\n<style>\n.login {\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  background-color: #f5f5f5;\n}\n\n.login__info {\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  line-height: 1.2;\n  font-size: 15px;\n}\n\n.login__wrapper {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 300px;\n}\n\n.login__logo {\n  width: auto;\n  height: 100%;\n}\n\n.login__text {\n  margin-top: 30px;\n  margin-bottom: 15px;\n  font-size: 20px;\n}\n\n.login__form {\n  position: relative;\n}\n\n.login__mail,\n.login__pwd {\n  width: 100%;\n  padding: 10px;\n  font-size: 16px;\n  border: 1px solid #ced4da;\n  outline: none;\n  box-sizing: border-box;\n}\n\n.login__mail {\n  border-radius: 3px 3px 0 0;\n}\n\n.login__pwd {\n  margin-top: -1px;\n  border-radius: 0 0 3px 3px;\n}\n\n.login__btn {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  width: 100%;\n  margin-top: 15px;\n  margin-bottom: 50px;\n}\n\n.btn-submit {\n  color: white;\n  background-color: #2597c7;\n  border-radius: 3px 0 0 3px;\n}\n\n.btn-clear {\n  color: #2597c7;\n  border: 1px solid #2597c7;\n  border-radius: 0 3px 3px 0;\n}\n\n.login__copyright {\n  font-size: 15px;\n  color: #999;\n}\n\n.login__status {\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 15px;\n  font-size: 15px;\n  color: white;\n}\n\n.login__status-success {\n  background-color: #198753;\n}\n\n.login__status-fail {\n  background-color: #dc3545;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoginPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoginPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoginPage.vue?vue&type=template&id=d09325ae&\"\nimport script from \"./LoginPage.vue?vue&type=script&lang=js&\"\nexport * from \"./LoginPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LoginPage.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","getEmail","getPassword","attrs","on","$event","preventDefault","handleSubmit","apply","arguments","directives","name","rawName","value","expression","domProps","target","composing","mail","pwd","_m","loginStatus","_e","staticRenderFns","data","timer","computed","expiresTime","now","methods","then","res","catch","err","setTimeout","Cookie","expires","path","clearTimeout","console","component"],"sourceRoot":""}